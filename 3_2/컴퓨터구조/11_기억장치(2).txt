
 기억장치(2)



 # 캐시기억장치의 사상 방식.

사상 mapping.
캐시기억장치와 주기억장치 사이의 데이터 이동.
중앙처리장치가 캐시기억장치에서 데이터를 가져오려 할 때.
미스가 일어나면 캐시기억장치의 일부분을 주기억장치로 보내고,
주기억장치의 데이터를 캐시기억장치로 가져와야 하는 등의 데이터 이동이 발생.

사상의 종류.
직접 사상 direct mapping.
연관 사상 associative mapping.
집합-연관 사상 set-associative mapping.

직접 사상방식.
중앙처리장치가 주기억장치를 참조할 때 중앙처리장치로부터 나온 주소를 tag, index로 나눈다.

직접 사상방식 동작 원리.
캐시기억장치에서 중앙처리장치 주소의 index 필드와 같은 index를 찾아 tag까지 같다면 데이터를 가져감.
만약 같은 index에 데이터가 없거나, tag가 다르면 주기억장치에서 데이터를 찾아 가져 오는 방식.

직접 사상방식의 단점.
데이터가 캐시기억장치의 index에 따라 순차적으로 저장된다.
index는 같으나 tag가 다른 데이터를 반복적으로 접근해야 할 경우, 접근 실패율이 높아진다.
캐시 기억장치의 하나의 index는 서로 다른 두 개의 데이터를 공유 할 수 없다.

연관 사상방식.
캐시기억장치에 데이터 블록을 저장할 때, 데이터와 그 데이터의 주기억장치 주소도 함께 저장.
직접사상방식의 단점을 일부분 보완할 수 있다.

연관 사상방식 동작 원리.
캐시기억장치에서 그 주소와 함께 저장된 데이터를 가져온다.
주기억장치에서 데이터블록( 주소 + 데이터 )을 캐시기억장치의 여분의 자리에 저장시킨다.

연관 사상방식의 단점.
중앙처리장치주소를 캐시기억장치에서 찾을 떄 최악의 경우 모든 주소를 다 찾아야할 수 있다.

집합-연관 사상방식.
직접사상 방식과 연관사상 방식을 조합하여 만든 방식.
하나의 index에 두 개 이상의 서로 다른 데이터 블록을 저장시켜 하나의 집합을 만든다.

집합-연관 동작 원리.
캐시기억장치에서 중앙처리장치 주소의 index와 같은 index를 찾은 후,
그 index에 저장되어 있는 서로 다른 tag를 갖는 데이터들 중에서 
연관사상 방식에서와 같은 방식으로 찾고자 하는 데이터의 tag와 같은 tag를 갖는 데이터를 찾는다.
적중률을 높이려면 같은 index를 갖는 집합의 크기를 크게 하면 된다.



 # 가상기억장치.

가상기억장치.
보조기억장치와 같이 기억 용량이 큰 기억장치를 마치 주기억장치처럼 사용하는 개념.

가상기억장치 동작 원리.
주기억장치에서 당장 필요하지 않은 프로그램을 가상기억장치에 옮겨놓음.
필요할때 가상기억장치에서 프로그램을 복구하여 실행.
가상기억장치는 주로 보조기억장치에 설정한다.

가상주소 VA virtual address.
가상기억장치 시스템에서 수행되는 프로그램의 명령어가 사용하는 주소.

물리주소 PA Physical address.
주기억장치에 접근하기 위해 실제 주기억장치에 적용하는 주소.

기억 공간.
주기억장치 접근을 위해 가상주소가 실제주소로 변환되어야 한다.
가상주소를 주기억장치의 물리주소로 전환하는 주소 매핑을 해야 한다.

가상기억장치의 주소변환.
가상주소가 변환표에서 물리주소로 변환되어 이 주소로 실제 주기억장치에 접근한다.

주소변환방법.
페이징 기법, 세그먼트 기법.

페이징 기법.
가상 기억공간의 프로그램 블록과 실제 기억공간의 프로그램 블록의 크기가 같고,
각 블록의 크긱도 모두 동일하게 나누어진 블록을 페이지라고 할 때, 이 페이지를 이용하는 방법.
가상기억공간을 동일한 크기의 페이지로 나누어 사용 하는 방법.

세그먼트 기법.
가상기억공간을 세그먼트 단위로 분할한다.
가변길이의 주소공간을 갖는다.



 # 보조기억장치.

보조기억장치.
당장 필요하지는 않지만 필요할 때에 주기억장치로 옮겨 사용할 수 있는 자료를 저장하는 장치.
기억장치 계층 구조상에서 하위계층 수준에 위치.

접근시간, 접근방법 등에 따른 종류.
자기 매체( 자기 디스크, 자기 테이프 )
광학 디스크( 컴팩트 디스크 )
반도체 메모리( SSD )

구성방법에 따른 종류.
RAID 시스템.

순차접근 sequential access 방법.
자료가 순차적으로 저장되기 때문에 처음에 들어있는 자료부터 순서적으로 데이터를 검색하는 방법.
일괄처리에 주로 사용. ( 자기 테이프 )

직접접근 direct access 방법.
파일내의 특정한 레코드를 검색할 때 직접 원하는 레코드에 접근할 수 있는 방법.
데이터 검색이 빠르며, 실시간 처리에 주로 사용. ( 자기 디스크 )

자기디스크.
금속이나 플라스틱으로 만들어진 원형판을 자화된 물질로 코딩한 기억매체.
헤드라 불리는 유도코일을 사용해서 데이터를 읽고, 쓰게 된다.
하드 디스크, 플로크 디스크.

자기디스크 구조와 원리.
트랙이라는 동심원의 집합으로 이루어짐.
데이터 전송은 블록단위로 이루어지며, 일반적으로 한 블록의 크기는 한 트랙보다 작다.
데이터를 트랙에 효율적으로 기록하기 위해서는 트랙을 나누고 섹터라고 부른다. ( 블락 단위 저장 )

자기 테이프.
산화자기 박막으로 코팅된 테이프.
순차접근 방식의 기억장치.
속도가 느림, 기록밀도의 효율성이 높음( 데이터 백업용 )
데이터는 레코드 단위로 기록됨.

자기 테이프 구조와 원리.
비 블럭화 : 자료가 논리 레코드 단위로 기억.
블럭화 : 한 개 이상의 논리 레코드로 이루어진 블록 단위로 기억.

광학 디스크.
광학 매체를 이용한 보조기억장치.
빛을 이용해 1과 0을 기록하고 판독.
정보 저장용량이 매우 크다.
멀티미디어 응용분야에서 사용.

CD-ROM의 데이터 읽는 방법.
등각속도 방식 : 안쪽에서 바깥쪽까지 기록되는 데이터의 양이 같다. ( 용량 낭비 - HDD )
등선속도 방식 : 안쪽과 바깥쪽의 데이터 기록 밀도가 동일. ( 용량 낭비 X - CD-ROM )

하드디스크의 문제점.
자기 디스크를 이용함에 따라 처리속도의 한계.
디스크의 회전에 따른 소음과 전력 소모의 문제.

SSD Solid State Device.
하드디스크의 문제점을 해결하기 위해 만들어졌다.
자기 디스크가 아닌 반도체 메모리 내장.
하드 디스크보다 빠른 속도의 데이터 읽기, 쓰기 가능.
물리적인 움직임이 없으므로 작동 소음이 없고, 전력소모가 적다.

SSD의 내부 구조.
연결 포트 : PC와 연결되는 인터페이스.
NAND 플래시 메모리 : 데이터 저장용.
SSD 컨트롤러 : 플래시 메모리에 데이터를 저장하고, 읽어 내는 것을 관장, 데이터 교환 제어.
버퍼 메모리 : 외부장치와 SSD사이의 처리속도 차이를 줄여준다.

SSD의 메모리 구조.
블록 block : 페이지들의 모임. ( 페이지 - 하드 디스크의 섹터와 유사 )
플레인 plain : 블럭들의 모임. ( 블럭 - 하드 디스크의 트랙과 유사 )
메모리칩 : 플레인들의 모임. ( 플레인 - 하드 디스크의 실린더와 유사 )

SSD의 동작.
SSD는 블록과 페이지를 기반으로 한 구조.
기존의 파일 시스템과 운영체제 등에서 직접 활용 불가능.
SSD 컨트롤러에서 물리 블록과 페이지 위에 논리 섹터를 구현. ( 기존의 하드 디스크처럼 사용 가능 )
플래시 변환 계층을 사용.

플래시 변환 계층 FTL Flash Translation Layer. 
물리 블록과 페이지 위에 논리 섹터를 구현하여,
파일시스템이 논리 섹터 주소를 통해 SSD의 데이터에 접근하면,
이를 물리 블록과 페이지 주소로 변환하여 플래시 메모리의 데이터에 도달.



 # RAID 시스템.

RAID Redundant Arrays of Inexpensive Disks 시스템.
크기가 작고, 저가인 여러 개의 하드 디스크를 묶어 하나의 기억장치처럼 사용하는 디스크 시스템.
여러 개의 하드디스크에 데이터를 분산 처리하지만, 운영체제는 하나의 디스크로 인식.
전송률을 높이기 위해 입출력을 병렬로 처리해야 하므로 여러 개의 헤드와 구동장치가 필요.
오류 검출용 패리티 비트를 저장할 수 있는 여분의 디스크가 필요.

RAID 레벨.
0레벨 ~ 6레벨까지 7종류가 있다.
각 레벨 사이에는 계층적인 관계가 없으며, 서로 다른 특성을 가진다.




