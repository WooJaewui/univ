
 기억장치(1).



 # 기억장치의 개요.

기억장치.
프로그램과 데이터를 저장하는 장치.

주기억장치.
처리에 당장 필요한 프로그램이나 데이터를 저장.
중앙처리장치와 직접 데이터 교환이 가능.

보조기억장치.
주기억장치의 용량부족으로 인해 저장이 어려운 대량의 자료를 보관하는 장치.
중앙처리장치와 직접적인 자료교환이 불가능하며, 주기억장치를 통해서만 가능.
주기억장치에 비해 가격이 저렴하고 용량이 크지만, 자료의 전송속도는 느림.

지역성의 원리.
주어진 시간 동안에 프로그램의 실행에서 발생하는 주소들은 기억장치내의
몇몇 한정된 영역만을 반복적으로 지정하며, 그 밖의 영역에 대한 접근은 상대적으로 드문 현상.

시간적 지역성 temporal locality.
어떤 내용이 한번 참조되면, 곧 바로 다시 참조되기 쉽다.

공간적 지역성 spatial locality.
어떤 내용이 참조되면, 그 내용에 가까운 곳에 있는 다른 내용이 곧바로 참조되기 쉽다.

프로그램의 지역성.
반복적으로 명령어와 데이터를 접근하게 되는 루프를 포함하는 
대부분의 프로그램은 상당히 큰 시간적 지역성을 보인다.
또한, 대개의 명령어들이 순차적으로 접근되기 때문에 큰 공간적 지역성을 보인다.

기억장치 계층.
속도와 크기가 다른 기억장치를 여러 층으로 구성한 것.
지역성의 원리를 이용하여 기억장치 계층을 구현.
주기억장치부터는 CPU가 직접 접근 가능.
레지스터 -> 캐시기억장치 -> 주기억장치 -> 보조기억장치.

계층구조의 목적.
전체 기억장치를 구성하는데 있어서 가격은 최소화하면서
가능한 한 빠른 접근속도와 대용량의 크기를 제공하기 위해.
( 입출력의 경제성 확보 )

기억장치 계층 관련 용어.
블록 : 두 계층 간에 전송되는 정보의 단위 ( 데이터의 최소 단위 )
히트 hit : CPU에 의해서 요구되는 데이터가 상위계층의 어떤 블록에 있을 때.
미스 miss : 상위계층에서 찾을 수 없을 때.
히트율 hit ratio : 상위계층에서 찾을 수 있는 기억장치 접근 비율.
미스율 miss ratio : 상위계층에서 찾을 수 없는 기억장치 접근 비율.

기억장치 성능평가 요인.
기억용량 capacity.
접근시간 access time : 기억장치에서 데이터를 판독 하거나 기록하는데 걸리는 시간.
사이클 시간 cycle time : 하나의 액세스를 시작한 시간부터 다음 액세스를 시작할 때까지의 시간.
기억장치 대역폭 bandwidth : 기억장치의 데이터 처리속도를 말하며, 데이터 전송률이라고도 한다.
가격 cost.

주기억장치.
컴퓨터 시스템에서의 필수적인 하드웨어 요소.

주기억장치 성능평가의 요인과 개선 방법.
접근시간 : CPU의 클럭 사이클과 비교하여 많은 차이. ( 속도차이 개선필요 )
대역폭 : CPU와 보조기억장치, 입출력장치들이 공동으로 사용하므로 제한적.
기억용량 : 아무리 큰 용량의 주기억장치도 기억용량의 증가가 요구됨.
속도차이 개선 : 복수모듈기억장치, 연관기억장치, 캐시기억장치.
기억용량 개선 : 가상기억장치.



 # 복수모듈 기억장치.

주기억장치의 대역폭.
명령어 수행속도의 제한적인 요소.
중앙처리장치와 입출력장치가 주기억장치를 경쟁적으로 이용하기 때문에 병목현상 발생.

대역폭의 개선방법.
속도가 빠른 기억소자를 이용하여 설계.
주기억장치에서 한 번에 읽을 수 있는 단어의 비트 수를 증가.
기억장치의 구조적 개선 -> 복수모듈 기억장치.

단일 기억장치 모듈의 문제점.
하나의 기억장치 모듈이 주기억장치.
아무리 속도가 빨라져도 기억장치 사이클이 작업시간을 지배한다.

복수모듈 기억장치.
기억장치모듈을 여러 개 가지고 있는 기억장치. ( 각 모듈은 독자적인 주기억장치 )
기억장치를 구성하고 있는 모듈 수만큼 단어들을 동시에 접근 가능.

복수모듈 기억장치 문제점.
한 개의 버스를 공유할 경우 동시에 버스 사용을 요구하면 버스경합 발생.
동시에 한 개 이상의 모듈들이 동일 버스를 사용하면 데이터간의 충돌 - 기억장치충돌.

메모리 인터리빙 memory interleaving.
버스경합이나 기억장치충돌과 같은 문제를 해결하기 위하여 
기억장치를 복수모듈로 구성하고 각 모듈이 동시에 접근할 수 있게 하는 방식.
같은 시각에 CPU로부터 여러 모듈로 동시에 주소를 전달 할 수 없기 때문에
CPU가 각 모듈 별로 전송할 주소를 교대로 배치한 후 차례 차례로 전송하여 병행 접근하는 기법.



 # 연관기억장치.

연관기억장치의 필요성.
저장된 데이터는 단어로 구성되어 있으므로, 어떤 데이터에 접근하려면 주소를 알아야 한다.
그러나 저장되어 있는 단어의 주소를 모르는 경우에는 많은 기억장치 사이클이 필요.

연관기억장치 associative memory.
기억장치에 저장된 데이터의 내용을 이용하여 기억장치에 접근할 수 있는 기억장치.
내용 주소화 기억장치 "CAM Content Addressable Memory" 라고도 한다.

연관기억장치 구성요소.
병렬검색을 위한 검색데이터 레지스터 C.
마스크 레지스터 M.
일치 지시기 I.
n개의 단어와 단어 당 m비트를 갖는 n X M 배열의 셀( cell )

연관기억장치 장점.
주소에 의해 데이터에 접근하는 RAM보다 접근속도가 훨씬 빠르다.
연관기억장치의 기억소자들은 병렬 판독회로가 포함되기 때문에 가격이 매우 비싸다.



 # 캐시 기억장치.

캐시기억장치.
주기억장치의 수행속도 개선을 위한 하나의 방법.
주기억장치보다 속도가 빠른 기억소자들로 구성되어 있따.
중앙처리장치가 주기억장치에 접근하는 대신 캐시기억장치에서 데이터를 가져오게 하는 것.

캐시기억장치의 원리.
가격이 비싸기 때문에 기억용량은 주기억장치의 기억용량보다 훨씬 작다.
데이터를 옮겨 놓기 위해서는 접근할 데이터를 미리 예측할 수 있어야 함.
기억장치 접근에 대한 지역성의 원리를 이용하여 데이터를 캐시기억장치에 옮겨 놓을 수 있다.

데이터 접근의 지역성 원리.
최근에 접근한 프로그램과 데이터는 미래에 다시 접근될 가능성이 크다.

캐시기억장치로 데이터를 옮길 조건.
데이터 접근의 지역성을 기초로 그 단어를 포함하는 블록을 캐시기억장치로 미리 옮겨 놓는다.

캐시기억장치 미스.
주기억장치에서 데이터를 캐시기억장치에 옮겨놓은 다음에 캐시기억장치에 접근.
캐시기억장치에 여유 공간이 없다면 캐시기억장치의 블록 중 하나를 희생하여 새로운 데이터를 저장.

희생블록.
캐시에 미스 되었을 때 접근하려는 데이터를 캐시에 가져오기 위해 확보한 공간을 의미.

희생블록의 선택.
캐시에 있는 블록 중에서 가장 사용되지 않는 것으로 생각되는 블록을 선택.

중요사항.
캐시기억장치는 적중률을 높이는데 중점을 두어야한다.





