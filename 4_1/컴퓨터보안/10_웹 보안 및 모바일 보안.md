
# 웹 보안 및 모바일 보안

----------------------------------------------------------------------------------------------------------------------------------

> ## 웹 보안의 개요

### 웹 서비스
- 웹 서버와 웹 클라이언트 사이에서 HTTP를 통해 제공되는 서비스


### 웹 서비스의 구조
- 웹 클라이언트 -> 네트워크 -> 웹서버 -> 웹 어플리케이션 -> 데이터베이스


### 웹 보안
- 웹 서비스상에 발생할 수 있는 다양한 공격으로부터 웹 서비스를 지키기 위한 것
- 네트워크 부분
  - SSL/TLS를 적용함으로써 해결 가능
- 나머지 구성 요소에 대해서는 별도의 보안기법 필요

----------------------------------------------------------------------------------------------------------------------------------

> ## 위협 요소

### 웹 서비스의 위협 요소
- SQL injection
- 크로스 사이트 스크립트 XSS
- 접근제어 실패
- 웹 서버 공격


### SQL injection
- 데이터베이스 쿼리인 SQL문에 추가적인 SQL을 삽입(injection)함으로써 악의적인 행위를 가능하게 하는 공격


### SQL injection 예
- 로그인 페이지에서 ID와 비밀번호 부분에 SQL문을 넣어 인증 우회


### SQL injection 방어 방법
- 사용자의 입력값을 미리 검사
- SQL 문을 매개변수화된 쿼리 형태로 작성
- 웹 어플리케이션의 데이터베이스에 대한 접근권한으 최소화


### 크로스 사이트 스크립팅 XSS
- 이메일이나 웹 페이즈에 추가적인 악성 스크립트를 포함시켜 웹 클라이언트가 이메일이나 웹 페이지를 열면 자동으로 악성 스크립트가 실행되게 하는 공격
- 이를 통해 사용자의 정보가 공격자 사이트로 넘어감
- 저장된 XSS
    1. 공격자
    2. 악성 스크립트를 게시판에 저장
    3. 웹 클라이언트
    4. 게시물 접근
    5. 웹 서버
    6. 악성 스크립트 전달
    7. 웹 클라이언트에서 악성 스크립트 실행
- 반사된 XSS
    1. 공격자
    2. 악성 스크립트 포함된 URL 링크 전송
    3. 웹 클라이언트
    4. 링크 눌러 URL 접근
    5. 웹 서버
    6. 오류 처리로 악성 스크립트 되돌아옴
    7. 웹 클라이언트에서 악성 스크립트 실행

    
### 크로스 사이트 스크립팅 XSS 방어 방법
- 사용자의 입력값을 미리 검사
  - 길이, 문자, 형식 등에 대한 유효성 검사
- 사용자로 보낼 출력값을 미리 검사
  - <script> 태그 제거
  - <, > 같은 특수문자를 &lt; &gt; 같이 일반문자화


### 접근제어 실패
- 사용자와 자원에 대한 접근제어가 완벽하지 못한 경우 이를 통한 공격
- 예 
  - 링크를 만들어 두지 않은 관리자 페이지
  - URL에 사용자 ID를 포함하는 경우


### 접근제어에 대한 공격 방어
- 올바른 접근제어를 적용
  - 관리자 페이지 자체에 접근권한을 설정
  - 오직 관리자만 해당 페이지를 열 수 있도록 해야 함


### 웹 서버 공격
- 5강 서버 보안과 맥락을 같이 함
- 웹 서버에서 제공하는 테스트 기능, 디렉터리 목록을 보여 주는 기능 등이 일반 사용자에게 노출되지 않도록 관리 필요
- 주기적으로 웹 서버의 취약점 점검 및 보안 패치 적용

----------------------------------------------------------------------------------------------------------------------------------

> ## 모바일 보안의 개요

### 모바일 환경
- 스마트폰, 스마트패드, 무선 LAN 등의 발달로 일반화됨
- LAN 환경 : Wi-Fi를 통한 무선 네트워크
- WAN 환경 : 5G, LTE, 와이브로 등을 통한 무선 네트워크
- 무선 네트워크를 이용하기 위해서는 최초에 네트워크에 접속하는 과정 필요


### AP Access Point
- 무선랜을 구성하는 장치중 하나로, 유선랜과 무선랜을 연결시켜주는 장치이다
- WAP Wireless Access Point 라고도 불린다
- https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=twers&logNo=50118628879


### 모바일 환경의 특징
- 편의성이 좋음
- 보안이 취약함(전파에 대한 도청)


### 모바일 환경의 보안문제
- 인증 및 접근제어
- 데이터 보호

----------------------------------------------------------------------------------------------------------------------------------

> ## 모바일 보안 기법

### 모바일 보안 기법
- 모바일 보안 중 무선 LAN 보안과 관련된 기법만 살펴봄
- 무선 LAN 보안
  - IEEE 802.11에서 무선 LAN을 정의하며 무선 LAN 보안과 관련된 내용도 포함
  - 이후 IEEE 802.11i에서 강화된 무선 LAN 보안을 별도로 제시


### WEP Wired Equivalent Privacy
- IEEE 802.11에서 제시
- 무선 LAN 환경에서 기밀성을 제공하기 위한 알고리즘
  - 스트림 암호 방식 : RC4 알고리즘
  - 키 분배 메커니즘 : 없음
- 현재는 취약성이 드러나 사용하지 않음


### RSN Robust security Network
- IEEE 802.11i 표준
- 인증기법, 키 관리, 키 교환, 기밀성과 무결성 기법 등 포함


### TKIP Temporal Key Integrity Protocol
- 임시키 무결성 프로토콜
- WEP로 구현된 하드웨어의 펌웨어 업데이트를 위해 사용
- 256비트의 임시키 이용
  - 64비트 두 개는 메시지 무결성 코드(MIC) 생성에 이용
  - 나머지 128비트는 기밀성 위해 이용
- 임시키는 데이터 프레임마다 변하도록 하여 보안성 강화


### CCMP CTR mode with CBC-MAC Protocol
- 802.11i의 기본 프로토콜
- 기밀성
  - 카운터(CTR) 모드와 AES 알고리즘 이용
- 무결성
  - AES 사용하는 CBC-MAC 이용
- 128비트 키 이용
  - 기밀성과 무결성 양쪽에 동일한 키 사용


### 802.1X
- 포트 기반 네트워크 접근제어 NAC 표준
- 모바일 장치와 액세스 포인트 외에 인증 서버 필요
- 동작
  - 모바일 장치가 무선 LAN에 접근을 요청하면 액세스 포인트는 인증 서버에 인증을 요청
  - 이때 802.1X는 모바일 장치와 인증 서버 사이에 인증과 관련된 정보만 오가도록 제한한
  - 인증을 통과하면 접근제어 수준에 맞는 데이터가 오갈 수 있도록 함


### EAP Extensible Authentication Protocol
- 확장형 인증 프레임워크
- 모바일 장치가 인증을 받을 때 사용되는 프로토콜
- 인증이 끝나면 모바일 장치와 액세스 포인트는 공통의 마스터 키(PMK)를 공유함


### WPA, WPA2, WPA3
- Wi-Fi Protected Access
- 무선 LAN 보안기능을 제공하는 장비를 인증하기 위해 정의된 규격
- WPA
  - 2003년도에 소개
- WPA2
  - 2004년도에 소개
  - 802.11i가 완료된 2006년도부터 본격적으로 적용


### WPA2 종류
- WPA2-Enterprise : 인증 서버 이용
- WPA2-Personal : 인증 서버 없이 미리 키를 나누어(PSK) 사용


### WPA3
- 2018년도에 소개되어 장비인증에 적용되고 있음
- WPA2에 네 가지 특성을 추가
  - 화면이 제한적이거나 없는 장치를 위한 보안설정 절차 단순화
  - 사용자가 단순한 패스워드 사용해도 강화된 보안 제공
  - 개별적 데이터 암호화를 통해 개방된 네트워크 환경에서도 보안 강화
  - 192비트 보안 모드 추가
- 무선 LAN 보안설정을 단순화하면서도 보안은 강화





















