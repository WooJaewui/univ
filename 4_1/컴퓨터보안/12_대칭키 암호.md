
# 대칭키 암호

--------------------------------------------------------------------------------------------------------------------------------------

> ## 대칭키 암호의 개념

### 대칭키 암호
- 암호화와 복호화에 하나의 같은 비밀키를 사용하는 암호방식
- 다양한 이름
  - 대칭키 암호, 비밀키 암호, 단일키 암호, 관용 암호

--------------------------------------------------------------------------------------------------------------------------------------

> ## 블록 암호

### 블록 암호
- 평문을 고정된 크기의 블록으로 나누어 각 블록마다 암호화 과정을 수행하여 블록 단위로 암호문을 얻는 대칭키 암호 방식


### 블록 암호 알고리즘의 구조
- 출력 블록의 각 비트는 입력 블록과 키의 모든 비트에 영향을 받음
- 주로 단순한 함수를 반복적으로 적용함으로써 암호학적으로 강한 함수를 만듦
    - 라운드 함수 : 반복되는 함수
    - 라운드 키 : 라운드 함수에 작용하는 키
    - 키 스케쥴 : 키를 입력하여 라운드 키를 발생시키는 과정


### 파이스텔 Feistel 구조
- 하나의 입력 블록을 분할하여 좌우 두 개의 블록으로 구분 후 짝수 번의 라운드를 진행
- 각 라운드의 출력 블록이 다음 라운드의 입력 블록이 됨
- 라운드 함수와 관계없이 역변환 가능
- 두 번의 수행으로 블록 간의 완전한 확산이 이루어짐
- DES, SEED 등 많은 블록 암호에 사용됨


### SPN Substitution Permutation Network 구조
- 하나의 입력 블록을 여러 개의 소블록으로 나눈 후 라운드를 진행
- 각 라운드의 출력 블록이 다음 라운드의 입력 블록이 됨
- 라운드 함수가 역변환 가능해야 함
- 더 많은 병렬성을 제공
- AES, ARIA 등 최근의 블록 암호에 사용됨


### 블록 암호의 사용 모드
- 각 블록에 블록 암호를 어떤 방식으로 사용할 것이냐에 따라 구분
  - 전자 코드 북 ECB 모드
  - 암호 블록 연결 CBC 모드
  - 암호 피드백 CFB 모드
  - 출력 피드백 OFB 모드
  - 카운터 CTR 모드


### 전자 코드 북 ECB 모드 Electronic Code Book
- 암/복호화 시 병렬처리 가능
- 암호문 블록의 오류가 다른 블록에 영향을 미치지 않음
- 동일한 평문 블록은 동일한 암호문 생성(패턴 분석 가능)


### 암호 블록 연결 CBC 모드 Cipher Block Chaining
- 암호화 시 병렬처리 불가능
- 암호화 시 평문 블록 오류가 그 다음 모든 암호문에 영향
  - 메시지 인증에 사용


### 암호 피드백 CFB 모드 Cipher FeedBack
- 암호화 시 특정 입력이 이후로 영향을 미침
  - 메시지 인증에 사용
- 복호화 함수 필요 없음


### 출력 피드백 OFB 모드 Output FeedBack
- 암호문 블록의 오류는 한 블록에만 영향을 미침
  - 영상이나 음성 같은 디지털 신호화된 아날로그 신호에 사용
- 복호화 함수 필요 없음


### 카운터 CTR 모드 CounTeR
- 암/복호화 시 병렬처리 가능
- 오류의 확산이 일어나지 않음
- 복호화 함수 필요 없음

--------------------------------------------------------------------------------------------------------------------------------------

> ## 스트림 암호

### 스트림 암호
- 평문과 같은 길이의 키 스트림을 생성하여 평문과 키를 비트 단위로 XOR하여 암호문을 얻는 대칭키 암호 방식


### 키 스트림
- 임의의 길이의 평문이 주어져도 동일한 길이의 키 스트림 생성 가능
- 규칙성이 없어 예측이 불가능한 랜덤 수열이 가장 안전
- 의사 랜덤 pseudorandom 수열 생성
  - 예측이 어려우면서도 자동화된 생성이 가능
  - 예 : LFSR


### 선형 귀환 시프트 레지스터 LFSR Linear Feedback Shift Register
- 직전 m개의 비트값을 선형 결합하여 새로운 한 비트값을 생성
- 주기 : 최대 2^m - 1 비트 길이
- LFSR 단독 사용은 쉽게 해독됨

--------------------------------------------------------------------------------------------------------------------------------------

> ## 대칭키 암호 알고리즘

### DES Data Encryption Standard
- 1977년 미국에서 데이터 암호 알고리즘의 표준으로 공표
- 블록 암호 알고리즘
  - 블록 크기 : 64 bits
  - 키 길이 : 56 bits
  - 파이스텔 구조 : 16 라운드, 라운드 키 길이 48 bits
- 컴퓨터 속도 개선과 암호해독기술의 발전으로 2001년 AES에 표준 자리를 물려줌


### TDEA Triple Data Encryption Algorithm
- DES를 3회 반복(3DES)
- DES의 짧은 키 길이로 인한 안전성 문제 해결
- DES보다 3배 정도 느림


### AES Advanced Encryption Standard
- DES를 대신하는 새로운 표준
- 2001년 미국 NIST에서 공표
  - 공모를 통해 Rijndael을 AES로 선정
- 블록 암호 알고리즘
  - 블록 크기 : 128 bits
  - 키 길이 : 128 bits, 192 bits, 256 bits 중 택일
  - SPN 구조


### AES 암호화 과정
- 라운드 1 ~ 라운드 Nr -1 
  - SubBytes : 비선형성을 갖는 S-Box로 바이트 단위 치환
  - ShiftRows : 행 단위로 순환 시프트
  - MixColumns : 열 단위로 혼합
  - AddRoundKey : 라운드 키를 XOR
- 마지막 라운드
  - SubBytes
  - ShiftRows
  - AddRoundKey
  - MixColumns만 빠져있다












































