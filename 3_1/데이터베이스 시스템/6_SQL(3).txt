
 SQL(3)



 # 데이터 검색.

집계 함수.
특정 컬럼에 집계함수를 통해 다양한 통계 연산을 수행할 수 있는 기능.
select 절 또는 having절에 기술.
select count( column ) from 테이블이름 ;

집계 함수의 종류.
count : 컬럼에 있는 값들의 개수.
sum : 컬럼에 있는 값들의 합.
avg : 컬럼에 있는 값들의 평균.
max : 컬럼에서 가장 큰 값.
min : 컬럼에서 가장 작은 값.

그룹 질의.
특정 기준으로 레코드를 그룹화하고 각 레코드 그룹에 대해 집계 함수를 적용하는 질의.
select 질의 group by 컬럼 ;

그룹 질의 주의사항.
select 절에 그룹의 기준과 집계 함수 이외의 컬럼은 포함될 수 없음.
컬럼의 원자성을 해친다.

having 절.
그룹 질의의 결과 레코드에 대해 출력 조건을 기술하기 위한 절.
집계 결과 레코드에 대한 조건을 기술. ( where 절과 구분해서 생각 )

중첩 질의. ( 서브 쿼리 )
select 문 내부에서 독립적으로 실행 가능한 또 다른 select 문이 내포되어 있는 질의.
일반적으로 내부 질의의 처리 결과를 외부 질의에서 재사용.
select * from ( select * from 테이블이름 ) where 조건 ;

조인 질의.
테이블 간의 관련성을 이용하여 두 개 이상의 테이블에서 데이터를 검색하는 질의 기법.
여러 테이블로 분리된 정보를 통합하여 검색 시 유용.
내부 조인, 외부 조인으로 나눌 수 있다.

내부 조인.
두 개 이상의 테이블에서 조인 조건을 만족하는 레코드만 결합하여 출력 결과에 포함.
ANSI SQL 표준과 Oracle사가 제안한 조인 형식이 사용.

외부 조인.
조인조건에 맞지 않는 레코드도 질의의 결과에 포함시키는 질의.
왼쪽 외부 조인, 오른쪽 외부 조인, 완전 외부 조인.

셀프 조인.
한 테이블이 자기 자신과 조인되는 형태.
동일한 이름의 테이블에 대한 조인임으로 반드시 테이블 이름에 대한 별칭을 의무적으로 사용.



 # 뷰의 사용.

뷰의 개념.
데이터를 저장하고 있는 하나 이상의 테이블을 유도하여 생성하는 가상의 테이블.
데이터 독립성 : 원본 테이블의 구조가 바뀌어도 영향이 없다.
데이터 보안 : 원본 테이블의 일부 컬럼에 대한 접근을 허용하여 보안 효과를 향상.
작업의 단순화 : 복잡한 질의문을 뷰로 단순화.

뷰의 생성.
create view 뷰이름 as select * from 테이블이름 ;

뷰를 이용한 데이터 삽입.
제약사항이 위배되는 경우 삽입이 불가능.
뷰에 없는 컬럼에 삽입하는 경우 실행 불가능.
조인 질의 또는 그룹 질의가 적용된 뷰는 데이터 삽입 및 수정이 불가능.




