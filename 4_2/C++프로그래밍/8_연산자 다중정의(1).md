
# 연산자 다중정의(1)

--------------------------------------------------------------------------------------------------------

> ## 연산자 다중정의의 개념.

### 연산자 다중정의.
- 피연산자의 자료형과 연산자.
  - 동일한 연산자라도 구체적인 처리 방법은 피연산자의 자료형에 따라 다름.
  - 연산자는 피연산자의 자료형에 따라 그것에 맞는 처리 절차가 정의되어 있음.

### C++ 언어의 연산자 다중정의란?
- C++에 정의된 연산자를 사용자가 선언한 클래스의 객체에 대하여 사용할 수 있도록 정의하는 것.

### 연산자 다중정의를 할 때 주의사항.
- 연산자의 의미를 임의로 바꾸지 않는다.
- 연산자의 고유한 특성이 유지되도록 한다.
  - 연산자의 우선순위나 피연ㅅ나자 수 불변.
  - 전위 표기와 후위 표기 연산자의 의미 유지.

### 주요 연산자 다중정의 대상.
- 클래스의 객체 간 대입 및 이동 대입 연산자.
  - 특히 동적 할당을 받는 포인터를 포함하는 경우 고려할 필요가 있음.
- 수치형 객체의 산술 연산자 다중정의.
  - 교환법칙도 함께 고려함.
- 두 객체를 비교하기 위한 관계 연산자의 다중정의.
- 스트림 입력 및 출력을 위한 >>, << 연산자.

### 다중정의를 할 수 없는 연산자.
- 멤버 선택 연산자 (.)
- 멤버에 대한 포인터 연산자 (.*)
- 유효범위 결정 연산자 (::)
- 조건 연산자 (? :)

### 연산자 다중정의 위치.
1. 클래스의 멤버로 정의하는 방법.
  - 연산자의 구현 과정에서 객체의 멤버를 액세스 할 수 있음.
2. 클래스 외부에서 정의하는 방법.
  - 클래스의 멤버가 아니므로, 객체의 private 멤버는 직접 사용할 수 없음.
  - 필요하다면 private 멤버를 액세스할 수 있는 방법을 마련해야 함.

--------------------------------------------------------------------------------------------------------

> ## 단항 연산자의 다중정의.

### 단항 연산자란 ?
- 피연자가 1개인 연산자.
- 전위 표기법과 후위 표기법.
- ++a, a++, ...

### 다중정의 형식.
    // 전위표기법.
    ReturnType ClassName :: operator 연산자()
    {
      // 연산자에서 수행할 코드.
    }

    // 후위표기법. (int) <- 를 통해 후위표기법과 전위표기법을 구분한다. 
    ReturnType ClassName :: operator 연산자(int)
    {
      // 연산자에서 수행할 코드.
    }

--------------------------------------------------------------------------------------------------------

> ## 이항 연산자의 다중정의.

### 다중정의 형식.
    ReturnClass ClassName::operator 연산자(ArgClass arg)
    {
      // 연산자에서 수행할 코드..
      // a+b 라면 a는 본인클래스, b는 arg이다.
    }

### 다중정의 예시.
    Complex2 Complex2::operator + (const Complex2 &c) const
    {
      Complex2 tmp(*this);
      tmp.rPart += c.rPart;
      tmp.iPart += c.iPart;
      return tmp;
    }

--------------------------------------------------------------------------------------------------------

> ## 스트림 출력 연산자의 다중정의.

### 스트림 출력 연산자가 반환할 값.
- cout 을 통한 연속적인 출겨 문장.
- cout << "변수 a에 저장된 값" << a;

### 스트림 출력 연산자 다중정의 예시.
    ostream& operator <<(ostream& os, const Complex2& c)
    {
      os << "(" << c.rPart;
      if(c.iPart > 0) {
        os << "+j" << c.iPart;
      } else if(c.iPart < 0) {
        os << "-j" << -c.iPart;
      }

      ose << ")";
      return os;
    }





