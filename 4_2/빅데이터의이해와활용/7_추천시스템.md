# 추천 시스템.

------------------------------------------------------------------------------------------------

> ## 추천시스템이란

### 추천 시스템 Recommendation System.
- 고객이 원하는 최적의 상품을 추천해주는 소프트웨어 및 방법.
- 시스템이 자동으로 고객이 흥미를 가질만한 상품에 대한 정보를 제공.
- 인터넷 쇼핑회사에서 널리 사용됨.

### 추천 시스템에서의 통계적 방법론.
- 연관적 분석 방법 : 모집단 전체를 대상으로 추천 상품을 탐색.
- 협력적 정화 방법 : 개인화된 추천을 위해 개발.

------------------------------------------------------------------------------------------------

> ## 연관성 분석.

### 연관적 분석 방법이란 ?
- 연관적 분석 데이터에 존재하는 항목 간의 if-then 형식의 연관규칙을 찾는 방법.
- 마케팅에서는 손님의 장바구니에 들어있는 품목 간의 관계를 알아본다는 의미에서 장바구니분석이라고 부름.

### 연관적 분석 방법의 적용.
- 서비스업.
  - 연관규칙을 통해 고객들이 특정 서비스를 받은 다음 어떤 서비스를 원하는지 미리 알 수 있음.
- 신용카드사, 은행.
  - 고객들의 기존 금융서비스 내역으로부터 대출과 같은 특정 서비스를 받을 가능성이 높은 고객을 찾을 수 있음.
- 그 외에도 인터넷 쇼핑몰, 웹페이지 간 링크에 대한 분석 등에 적용.

### 연관규칙의 분류.
- 유용한 규칙 : 목요일에 식료품가게를 찾는 고객은 아기 기저귀와 맥주를 함께 구입하려는 경향이 있다.
- 자명한 규칙 : 한 회사의 전자제품을 구매하던 고객은 전자제품을 살 때 같은 회사의 제품을 사려는 경향이 있다.
- 설명이 불가능한 규칙 : 새로 연 건축 자재점에서는 변기 덮개가 많이 팔린다.

### 연관성 분석.
- 연관 규칙이 유용할 필요조건에 대한 측도.
- 지지도 : x와 y가 동시에 포함된 거래수 / 전체 거래수.
- 신뢰도 : x와 y가 동시에 포함된 거래수 / 품목 x를 포함하는 거래수.
- 향상도 : x와 y가 동시에 포함된 거래수 / 품목 x를 포함하는 거래수 x품목 y를 포함하는 거래수.

### 선험적 알고리즘.
- 만약 k개의 품목이 있는 경우 2**k개의 가능한 품목 집합이 있음.
- k가 아주 큰 경우엔 모든 집합 중 지지도가 높은 집합을 찾는 것은 불가능.

### 선험적 알고리즘이란 ?
- 최소 지지도를 갖는 연관규칙을 찾는 대표적인 방법.
- 최소 지지도보다 큰 집합만을 대상으로 높은 지지도를 갖는 품목 집합을 찾음.

### 선험적 알고리즘 진행 과정.
1. 최소 지지도를 넘는 모든 빈발품목집합을 생성한다.
2. 빈발품목집합에서 최소 신뢰도를 넘는 모든 규칙을 생성한다.

------------------------------------------------------------------------------------------------

> ## 협렵적 정화방법.

### 협력적 정화방법 Collaborative filtering.
- 개인화된 추천을 위한 통계적 방법.
- 개인화된 추천.
  - 개인의 선호도와 과거 상품 구매 이력 등을 분석하여 개인에게 최적ㅇ니 상품을 추천.
- 주어진 고객과 상품들에 대한 선호도가 비슷한 고객을 조사.
- 선호도가 비슷한 고객들이 좋아하는 상품 중 주어진 고객이 모르고 있는 상품을 추천.

### 상품 중심의 협력적 정화방법.
- 상품들 사이의 유사성 척도를 구한 후, 관측되지 않은 rui를 i번째 품목과 유사한 상품들의 고객 u의 선호도를 이용하여 추정.

### 고객 중심 방법 vs 상품 중심 방법.
- 정확도.
  - 고객의 수가 상품의 수 보다 매우 큰 경우 : 상품 중심 방법의 예측력이 우수.
  - 상품의 수가 고객의 수 보다 매우 큰 경우 : 고객 중심 방법의 예측력이 우수.
- 계산의 효율성.
  - 고객의 수가 상품의 수 보다 매우 큰 경우 : 상품 중싱 방법이 더 효율적.
  - 상품의 수가 고객의 수 보다 매우 큰 경우 : 고객 중심 방법이 더 효율적.
- 안정성.
  - 고객이 상품보다 빨리 변하는 경우 : 상품 중심 방법이 더 안정적 (온라인 쇼팡)
  - 상품이 고객보다 빨리 변하는 경우 : 고객 중심 방법이 더 효율적 (논문 추천)
- 해석력.
  - 상품 중심 방법은 고객에게 추천된 상품과 유사한 상품을 추천함으로써 추천결과에 대한 설명을 효율적으로 전달.
- 놀라움.
  - 고객 중심 방법은 고객들 사이의 관계를 이용하기 때문에 상품의 유사성을 넘어선 추천이 가능.<br>
    (로맨스 영화 동호회 회원들에게 특정 자동차를 추천)

### 행렬분해를 이용한 협력적 정화방법.
- 행렬분해 협력적 정화방법이 나온 이유.
  - 협력적 정화 방법은 이해하기 쉽다는 장점이 있으나, 고객과 상품의 수가 증가할 때 계산량이 빠르게 증가.
  - 많은 경우에 관측된 선호도의 수가 적어 최근린 방법의 예측력이 떨어짐.

------------------------------------------------------------------------------------------------

> ## 추천 시스템의 평가.

### 추천 시스템의 성능 평가.
- 상대적 평가 : 평균절대오차, 평균제곱오차, 정확도, 재현율.
- 절대적 평가 : A/B 검증.

### 선호도 정확도 측정.
- 추천 시스템으로 선호도를 예측한 (고객,상품) 쌍의 집합을 R이라 하자.
- 추천 시스템의 성능은 평균절대오차 또는 평균제곱오차를 이용하여 비교.

### 추천 상품의 정확도 측정.
- 추천 시스템으로 고객과 그 고객에게 추천된 상품 쌍들의 집합을 k라 하자.
- -k는 고객과 그 고객이 실제로 구매한 상품 쌍들의 집합이라 하자.
- 추천결과에 대한 성능지표로는 정확도(precision)과 재현율(recall)이 있음.
  - 정확도 : |kn-k|/|k|
  - 재현율 : |kn-k|/|-k|
  - 정확도와 재현율은 반비례.
  - 선호도 점수가 매우 높은 경우에만 상품을 추천하면 정확도는 올라가지만 재현율은 낮아짐.
  - 추천 시스템의 평가를 위해선 정확도와 재현율을 적절히 고려해야 함.

### A/B검증.
- 추천 시스템이 사용되지 않은 경우에 비해 추천 시스템을 사용할 때 증가하는 매출을 살펴보기 위한 통계적 방법론.
- 전체 고객을 추천시스템을 사용하여 상품을 추천한 그룹 A와 그렇지 않은 그룹 B로 랜덤하게 나눔.
- 일정 시간이 지난 후 매출액을 비교.
  - 장점 : 효율적이고 과학적인 평가 방법.
  - 단점 : 비용을 감수해야함.












