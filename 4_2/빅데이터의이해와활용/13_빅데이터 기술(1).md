
# 빅데이터 기술.

---------------------------------------------------------------------------------------------------------------

> ## 빅데이터 처리 인프라와 프레임워크.

### 빅데이터 프레임워크.
- 빅데이터를 효율적으로 저장/처리/분석하는 틀.
- 빅데이터로부터 통찰.
- 빅데이터의 특징 : 규모, 다양성, 속도.
- 한 대의 컴퓨터, 하나의 데이터베이스로는 저장/처리/분석이 불가능.

### 분산 컴퓨팅의 필요성 - 데이터 크기의 구분.
- 소용량 데이터.
  - 데이터의 양이 적다.
  - 주메모리 처리 o, 하드디스크 저장 o.
- 중용량 데이터.
  - 데이터의 양이 어느정도 있다.
  - 주메모리 처리 x, 하드디스크 저장 o.
- 대용량 데이터 (빅데이터)
  - 데이터의 양이 많다.
  - 주메모리 처리 x, 하드디스크 저장 x.

### 분산 컴퓨팅의 필요성.
- 분산처리 : 대용량 데이터를 여러 서버에 분산시켜 나누어 처리함.
- 분산 시스템 : 여러 대의 서버가 네트워크를 통해 통신하여 문제를 푸는 시스템.
- 문제를 여러 개의 작업으로 나누어 하나의 작업을 한 대 이상의 서버에 할당, 각 서버가 병렬로 문제 해결. (병렬 처리)

### 분산 시스템의 장점.
- 저비용/고성능 : 저가 서버를 여러 대 연결한 클러스터로 고성능 구현.
- 신뢰성 : 한두 대의 서버가 고장나도 전체 시스템의 성능 유지.
- 확장성 : 추가 서버의 연결이 쉬움.

### 빅데이터의 저장 및 처리 프레임워크.
- 속성 : 규모, 다양성, 속도 (3V)
- 어려움 : 기존 관계형 데이터베이스.
- 해결책 : 분산파일시스템, NoSQL.

### 분산 파일 시스템.
- 빅데이터를 여러 대의 서버에 연결된 저장소에 분산 저장.
- 분산시스템의 신뢰성과 확장성 추구.
- 구글 파일 시스템 GFS.
- 하둡 분산 파일 시스템 HDFS.
- 아마존 웹서비스의 심플 스토리지 서비스 S3.

### 비관계형 NoSQL 데이터베이스.
- Not Only Structures Query Language의 약자.
- 표 형식이 아닌 비정형/반정형 데이터를 저장/관리하는 데 적합.
- 아파치 카산드라, HBase.
- MongoDB.
- 아마존 웹서비스의 DynamoDB.
- 구글의 BigTable.
- 일관성과 정확성을 희생하여 지속성과 확장성 보장.

### 빅데이터 저장소의 변화.
- 개별 데이터베이스.
  - 인사관리 DB, 재무관리 DB, 고객관리 DB.
- 데이터웨어하우스.
  - 개별 데이터베이스의 데이터 형식 통일 관리.
- 데이터마트.
  - 데이터웨어하우스에서 필요한 데이터를 추출해 구축.
- 데이터레이크.
  - 반정형, 비정형 데이터를 있는 그대로 분산 저장.
- 데이터 늪.
  - 데이터레이크에서 필요한 데이터를 찾기 어려워짐.
- 데이터 카탈로그.
  - 데이터의 메타정보 관리.

### 빅데이터 분산 처리 기술.
- 아파치 하둡 : HDFS(하둡) + 맵리듀스. (프로그래밍 프레임워크)
- 아파치 스파크 : 반복 계산에서 하둡 맵리듀스의 단점 개선.
- 대스크(Dask) : 파이썬 언어로 HDFS에 기반한 분산 데이터 처리.
- 특징.
  - 분산 시스템의 환경이 데이터 처리 위주로 구성.
  - 데이터의 위치를 추적하는 방식으로 분산파일 시스템 구현.
  - 확장성 : 사용자가 원하는 만큼 저장 공간 및 계산 자원 확장.
  - 분산 시스템의 신뢰성 계승.

### 정보기술 인프라의 사용 방식.
- 정보기술 IT 인프라.
  - 서버, 스토리지, 데이터베이스 등 빅데이터 수집/처리/분석을 위한 인프라.
- 온프레미스 방식.
  - IT 인프라를 기업 자체적으로 구입/대여하여 운영-비영과 인력 소요.
- 온디맨드 방식.
  - 필요할 때 필요한 만큼만 이용. (클라우드 컴퓨팅)

### 클라우드 컴퓨팅.
- 원격지에 존재하는 거대한 분산 시스템의 일부 자원을 임대, 자신만의 가상 서버 네트워크를 구성/사용.
- 2006년 아마존 웹서비스의 심플 스토리지 서비스(S3) 및 일래스틱 컴퓨팅 클라우드(EC2)
- 마이크로소프트, 구글 등 글로벌 기업, 네이버/NHN/KT 등 국내 기업.
- 서비스 유형.
  - IaaS, PaaS, SaaS.
- 장점 : 초기 투자 비용 감소, 서비스 수용 증가에 기민한 대응.
- 단점 : 보안 문제, 클라우드 서비스 업체의 장애시 대응 불가.

### 분산 빅데이터 분석.
- 빅데이터 애널리틱스 : 빅데이터를 분석/표현하는 기술.
- 분석 기술 : 데이터마이닝, 기계학습, 소셜네트워크 분석.
- 표현 기술 : 동적 데이터 시각화.
- 구현 : 분산 처리 데이터 분석 소프트웨어-SAS 등.
- 파이선 기반 오픈소스 데이터과학 스택 : NumPy, SciPy, Pandas, Matplotlib, Scikit-learn, Ipython Notebook.
- 장점 : 배우기 쉽고 저변이 넓다.
- 단점 : 소용량 중용량 데이터 분석에 적합.
- 대스크(Dask) : 파이썬 데이터과학 스택을 분산처리로 구현.

### 업무에 종사하기 위해 필요한 능력은 ?
- 데이터를 수집/가공하는 능력.
- 실무에서 많은 자료가 커다란 데이터베이스에 잘 정리되지 않은 채로 묻혀 있음.
- 데이터로부터 통찰을 얻기 위해 원하는 형태로 데이터를 추출하는 능력 필요 (SQL 등)

---------------------------------------------------------------------------------------------------------------

> ## 하둡.

### 하둡의 역사.
- 더그 커팅과 마이크 카파렐라가 2006년 발표.
- 오픈소스 검색 엔진인 너치의 개발 주도 : 실용성 있는 검색엔진 구현에 어려움.
- 구글의 분산파일시스템에 영감을 받아 너치 분산 파일 시스템 제작. (훗날의 HDFS)
- 구글이 발표한 대용량 데이터 처리 프레임워크.
- 데이터 중심의 분산 계산 환경.
  - 너치 프로젝트에 도입.
- 기존 너치의 한계의 10배 이상 데이터 처리.
  - 수십억 페이지 상당의 데이터 처리 가능.
- NDFS + 맵리듀스 너치 프로젝트에서 독립.
- 검색엔진을 뛰어넘어 많은 분야에서 다양하게 사용될 수 있음 발견.
- 당시 구굴의 경쟁사 야후의 지원을 받아 급성장.
  - 62초만에 1TB 데이터 정렬 성공.

### 하둡의 3대 구성 요소.
- 얀 YARN.
  - 클러스터 매니저. (여러 대의 서버를 매니저먼트)
  - HDFS 접근 등.
- 하둡분산파일시스템 HDFS.
  - 빅데이터를 다수의 컴퓨터에 분산 저장.
  - 확장성, 신뢰성, 단순성.
- 하둡 맵리듀스 MapReduce.
  - HDFS에 저장된 빅데이터를 병렬 처리.
  - 빅데이터 분석의 핵심 프로그래밍 모델.

### 하둡 맵리듀스.
- HDFS 상에서 동작하는 데이터 분석 프레임워크.
- 데이터 중심 프로그래밍 모형.
  - 작업 분할, 스케줄링, 네트워크 구성 등의 플랫폼 차원 단순화.
- 프로그래머는 맵과 리듀스 함수만을 작성.
  - 데이터노드에서 실행. (데이터 전송 최소화 - 일괄처리)

### 맵리듀스 프로그래밍 모형.
- 맵 함수.
  - 입력의 <키,값>을 새로운 <키,값>으로 변환.
- 리듀스 함수.
  - 시스템이 수집한 <키, (값1,값2,...)>을 다시 <키,값>으로 변환하여 HDFS에 저장.
- 중간 과정은 하둡 시스템이 해결.

---------------------------------------------------------------------------------------------------------------

> ## 스파크.

### 하둡의 한계.
- 맵리듀스의 반복 적용.
  - 분산된 디스크에 반복해서 입출력 - 많은 시간 소요.
  - 로지스틱 회귀모형 적합 IRLS Iterative Re-weighted Least Squares.
    - 반복적으로 선형회귀모형 추정.
- 각각의 반복은 맵리듀스로 수행할 수 있지만 디스크 입출력 증가로 인해 시간이 많이 소요.
- 장점 : 대용량 데이터의 배치 처리.
- 단점 : 실시간 생성되는 데이터 처리시 비효율적.

### 아파치 스파크.
- 디스크 대신 메모리를 이용하여 하둡의 한계를 극복 - 복구가능한 분산 데이터셋(RDD)
- 메모리 기반으로 맵리듀스를 일반화.
- 하둡 맵리듀스에서 효율적이지 못했던 실시간 질의와 기계학습의 적용 등에서 10~100배 성능 향상.
- 확장성 : 노드 추가, HDFS, 카산드라, HBase, S3 등의 데이터 활용 가능.
- 배치 작업, 스트리밍, 사용자 상호작용 등의 작업들을 하나의 엔진에서 수행.
- 다양항 분산 작업을 손쉽게 조합할 수 있다.

### 스파크의 구성.
- 스칼라 Scala 언어로 작성
  - 자바 가상 머신에서 사용할 수 있는 함수형 프로그래밍 언어.
- 코어.
  - RDD, 분산작업처리, 메모리 관리, 결함 복구, 저장시스템과의 상호작용.
- 스칼라, 파이선, 자바, SQL, R 등에 접근 가능.
- 라이브러리.
  - 스파크 SQL, 스파크 스트리밍, Mllib, GraphX.
- 클러스터 매니저.
  - 얀 등에서 작동 가능.

