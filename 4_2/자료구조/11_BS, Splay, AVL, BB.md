
# BS, Splay, AVL, BB.

-------------------------------------------------------------------------------------

> ## 이진 탐색 트리. (BS)

### 이진 탐색 트리 binary search tree.
- 트리에서 특정 데이터의 효과적인 검색에 위해 제헌잠을 가지는 이진트리.
- 특정 데이터를 검색하고, 노드를 삽입/삭제하는 응용 문제에 가장 효과적인 이진 트리.
- 탐색에 최적화된 이진 트리.
- 키 : 이진 트리의 노드의 데이터. (노드를 특정할 수 있는 값)

### 이진 탐색 트리 특징.
- 왼쪽 자식 노드 키 값은 부모 노드 키 값보다 작다.
- 오른쪽 자식 노드 키 값은 부모 노드 키 값보다 크다.
- 이진 탐색 트리(BS 트리)는 입력되는 데이터에 따라 여러 모양으로 표현될 수 있다.

### BS 트리에서 키값이 K인 노드를 찾는 과정.
1. 트리가 비어 있다면 탐색 실패, 아니면 k와 현재 루트 노드의 키값 ki를 비교한다.
2. k = ki이면 탐색 성공, 이때 찾은 정점은 vi다.
3. k < ki이면 vi의 왼쪽 서브 트리를 탐색한다. 즉, vi = vi,left로 바꾸고 1로 간다.
4. k > ki이면 v1의 오른쪽 서브 트리를 탐색한다. 즉, vi = vi,right로 바꾸고 1로 간다.

### BS 트리의 노드 삽입 연산.
1. 트리가 비어 있다면 키 k를 가지는 노드를 삽입한다. 그렇지 않으면 k와 현재 루트 노드의 키 ki를 비교한다.
2. k = ki이면 멈춘다.
3. k < ki이면 v1의 왼쪽 서브 트리에 삽입해야 하므로, vi = vi -> left로 바꾸고 1로 간다.
4. k > ki이면 vi의 오른쪽 서브 트리에 삽입해야 하므로, vi = vi -> right로 바꾸고 1로 간다.

### BS 노드의 노드 삭제.
- 자식을 하나만 갖는 노드를 삭제하는 경우, 삭제한 노드를 가리키던 포인터가 그 노드의 null이 아닌 그 노드의 nullㅣ이 아닌 서브트리의 루트를 가리키게 할당함.
- 두 개의 자식 노드를 가지는 노드는 삭제 시 항상 특정 방향의 서브트리에서 노드를 올리는 방법으로 구현.
  (즉, 항상 오른쪽(또는 왼쪽) 서브트리의 노드를 삭제 위치로 이동)

-------------------------------------------------------------------------------------

> ## Splay 트리.

### 이진 탐색 트리의 단점.
- BS 트리의 성능은 트리의 구조와 특정 노드에 접근할 확률에 영향을 받음.
- 트리의 성능이 구조에 영향을 받기 때문에 어떤 노드의 탐색/삽입/삭제를 위한 접근정보를 예측할 수 없는 상황에서는 최적의 BS 트리구조를 결정하기 어려움.
- 휴리스틱 알고리즘을 사용하여 구축한 BS 트리의 성능이 최적에 가까움.

### 좋은 성능의 BS 트리를 구축하는 방법 (휴리스틱)
- 자주 탐색하는 키를 가진 노드를 트리의 루트에 가깝게 놓는다.
- 트리가 균형(balance)이 되도록 유지한다. 즉, 각 노드에 대해 왼쪽과 오른쪽 서브트리가 가능한 한 같은 수의 노드를 갖게 한다.

### Splay 트리.
- 자주 탐색하는 키를 가진 노드를 루트에 가깝게 위치하도록 구성한 BS 트리.
- Splay 연산 : 최근에 접근한 노드 x를(곧 사용할 것으로 예상하여) 루트에 위치시켜 트리를 재구성하는 연산.
- Splay 트리 : 가장 최근에 사용한 노드 x가 트리의 루트에 올 때까지 Splay 연산을 반복하여 적용하여 생성된 이진 트리.

### Splay 트리의 연산.
- Zig : p가 트리의 루트 노드이면 p와 x의 간선 연결을 회전시킨다.

-------------------------------------------------------------------------------------

> ## AVL 트리.

### AVL 트리의 개념.
- 제한 조건을 완화하여 트리가 (완전한) 균형이 아닌 것을 허용함.
- 무너진 균형의 정도는 작아야 하고, 평균 탐색 길이도 완전 균형 트리의 탐색 길이와 크게 차이가 나지 않아야 함.
- 거의 완전한 균형 트리의 한 형태로 높이가 균형 잡힌 높이 균형 트리.

### AVL 트리의 조건.
- 노드 vi의 왼쪽 서브트리 높이와 오른쪽 서브트리 높이가 최대 1만큼 차이가 남.

-------------------------------------------------------------------------------------

> ## BB 트리.

### BB Bound-Balanced 트리의 정의.
- 거의 완전히(대략) 균형 잡힌 트리의 다른 종류로 무게가 균형 잡힌 트리.
- 각 노드의 양쪽 서브트리 무게가 균형을 유지하는 트리.
- 베타 = 1/2이면 왼쪽 서브트리와 오른쪽 서브트리는 같은 수의 노드를 가져야 함.
- 극단적으로 무게가 완전히 균형 잡힌 상태.

### 균형 트리.
- AVL 또는 BB 트리에 대하여 각각 무게 또는 크기(높이) 제한 조건을 만족시키는데 드는 비용은 트리를 완전히 균형 잡히게 유지하는 비용이나 노력보다 훨씬 작음.
- 삽입이나 삭제 후에 트리를 완전히 균형 잡히게 유지하기 위해서는 O(n)의 노드를 옮겨야 하는 반면에 AVL 또는 BB 트리는 O(log2n)개의 노드를 옮기면 되는 것으로 알려져 있음.





