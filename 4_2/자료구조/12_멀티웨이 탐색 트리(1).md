
# 멀티웨이 탐색트리(1)

---------------------------------------------------------------------------------------

> ## m원 탐색 트리.

### 이진 탐색 트리.
- 트리에서 특정 데이터를 검색하고, 노드의 삽입/삭제 연산이 자주 발생하는 응용 문제에 가장 효과적인 이진 트리.
- '왼쪽'과 '오른쪽'이라는 방향성을 가지며 다루기가 매우 편리함.
- 부모노드를 중심으로 부모보다 큰 데이터 노드와 부모보다 작은 데이터 노드로 구분됨.

### m원 탐색 트리의 정의.
- 트리의 노드가 m개 이하의 가지를 가질 수 있는 탐색 트리.
- 같은 수의 노드를 갖는 이진트리보다 낮은 높이의 m원 트리.
- 이진 탐색 트리의 확장된 형태임.
- 탐색 트리의 제한을 따르되 2개 이상(m개 이하) 자식을 가질 수 있음.

### m원 탐색 트리의 제한 조건.
- 포인터, 값, 포인터, ... 이런 방식으로 데이터를 저장하고 하위 노드를 가리킨다.

### m원 탐색 트리의 탐색.
- 일반적으로 노드의 가지 개수가 많을수록(서브트리가 많을 수록), 최대 탐색 길이는 짧아짐.

---------------------------------------------------------------------------------------

> ## B트리.

### B 트리.
- m원 탐색 트리는 서브트리의 균형에 대해서는 특별히 제한하지 않음.
- 각 노드가 자식을 많이 갖게 하여 트리의 높이를 줄이고 전체적으로 균형을 유지한다면 탐색 성능을 더욱 향상할 수 있음.
- m원 탐색트리를 개선한 B 트리는 인덱스 구조를 구현하는데 가장 일반적으로 사용함.

### B 트리의 조건.
1. 루트와 잎노드를 제외한 트리의 각 노드는 최소 m/2 개의 서브트리를 갖는다.
2. 트리의 루트는 최소한 2개의 서브트리를 갖는다.
3. 트리의 모든 잎노드는 같은 레벨에 있다.

### B 트리에 키를 삽입하는 알고리즘.
1. B 트리에서 모든 노드는 잎노드에서 삽입이 시작됨.
2. 노드에 빈자리가 있으면 삽입 후 종료한다.
3. 노드가 꽉 찼으면 노드를 2개로 분리하고 키와 포인터를 새 노드에 반씩 할당한다.

### B 트리에서 키를 삭제하는 알고리즘.
- 리프에서 삭제는 바로 삭제하면 된다.
- 중간 값에서 삭제는 자식 노드에서 가져온다.

---------------------------------------------------------------------------------------

> ## B*, B+ 트리.

### B* 트리의 정의.
- 노드의 약 2/3 이상이 채워지는 B트리.
- 노드가 꽉 차면 분리하지 않고, 키와 포인터를 재배치하여 다른 형제 노드로 옮김.
- 삽입/삭제 시 발생하는 노드 분리를 줄이려고 고안됨.

### B+ 트리.
- 탐색 트리로 구성하면 매우 빠르게 탐색할 수 있지만, 전체 데이터를 차례로 처리하기는 불편함.
- 매번 왼쪽인지 오른쪽인지 비교해가면서 다음 노드를 찾아가면서 처리해야 함.
- B+ 트리는 인덱스된 순차 파일을 구성하는데 사용됨.
- B 트리와 같이 각 노드의 키가 적어도 1/2이 채워져야 하는 점은 같음.

### B+ 트리의 정의.
- 모든 키값이 잎노드에 있고 그 키값에 대응하면 실제 데이터에 대한 주소를 잎노드만이 가지고 있음.

### B+ 트리의 노드 삽입.
- 잎 노드가 2개의 노드로 분리될 때는 키값 순서에 따라 배치하고 중간 키값은 부모노드에 올려놓음.
- 새 노드는 순서에 맞게 잎노드에 삽입함.

### B+ 트리의 노드 삭제.
- 키값을 잎노드에서 삭제할 때, 트리의 내부노드에서도 삭제할 필요는 없는데, 그 키값이 직접 탐색을 위해 쓰이기 때문임.

















