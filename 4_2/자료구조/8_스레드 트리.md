
# 스레드 트리.

---------------------------------------------------------------------------------------------------------

> ## 스레드 트리의 정의.

### 원형 연결 리스트.
- 마지막 노드에 link를 처음 노드에 연결하는 것을 의미한다.
- 자료구조는 변경하지 않고 알고리즘만 변경해서 성능에 변화를 가져오는 방법.

### 쓰레드 트리.
- 이진 트리의 노드를 순회할 때, 방문하지 않고 지나쳐 온 노드들은 스택에 저장하여 관리해야 하는 번거로움이 발생함.
- '스레드'라는 포인터를 추가하여 트리 순회를 편리하게한 것. (사용하지 않는 null link에 값을 넣어 순회에 활용)
- 스레드 : 순회 방법에 따른 방문순서를 유지하는 포인터.

---------------------------------------------------------------------------------------------------------

> ## 스레드 트리의 구현.

### 스레드의 구현 방법(1)
- 포인터 필드의 추가 : 스레드를 저장하는 포인터를 추가하는 것.
  - 왼쪽 스레드 포인터, 왼쪽 자식 포인터, 데이터, 오른쪽 자식 포인터, 오른쪽 스레드 포인터 필드로 노드 구조를 정의함.
- 오른쪽 스레드 : 정해진 순회 순선에 따른 그 노드의 후속 노드를 가리킴.
- 왼쪽 스레드 : 그 노드의 선행 노드를 가리킴.

### 스레드 구현 코드 예시.
    void inorder(struct TNode *firstin) {
        struct TNode *p;
        p = firstin;
        while(p!=NULL) {
            printf("%d", p->info);
            p = p->right_thread;
        }
    }

### 추가된 포인터 필드를 이용한 중위 순회 연산과정.
1. 순회할 트리의 첫 노드를 가리키는 포인터 firstin을 매개변수로 하는 함수의 이름을 inorder()로 한다.
2. 노드를 가리킬 수 있는 TNode 타입의 포인터 p를 생성하고 루트 노드를 가리키도록 한다.
3. 포인터 p가 가리키는 데이터(info)를 출력하고 p를 p의 오른쪽 스레드 값으로 바구어 중위 순회에 따른 다음 노드를 가리키도록 수정.
4. 이 과정을 p가 null이 될 때까지 반복.

### 추가된 포인터 필드에 의한 스레드 구현.
- 스택을 운영하지 않고도 쉽게 트리에 속한 모든 노드를 순회할 수 있음.
- 하지만 스레드를 위해 추가 기억장소를 사용한다는 부담이 생김.

### 스레드의 구현 방법(2)
- 노드의 빈 포인터 필드를 활용.
  - 기존 이진 트리의 노드 구조를 그대로 사용하면서, 노드에 있는 사용하지 않는 포인터를 활용하는 방법.
- 추가 기억장소를 사용하지 않아도 되는 장점이 있음.
- 잎 노드의 빈 포인터 필드의 활용.
  - 이진 트리의 포인터 갯수 (노드의 개수를 n개라 가정함)

### 노드의 빈 포인터 필드의 활용.
- 루트 노드를 제외한 각 노드 개수는 모두 진입 차수는 '1'이 된다.
- 루트 노드를 제외한 전체 노드 즉, 누군가로부터 가리켜져야 할 노드의 개수 : n-1.
- null이 아닌 포인터 개수 : n-1.
- 전체 노드 - 가리켜져야 할 노드의 개수 => 2n - (n-1) => n+1개의 null 포인터가 노드에 존재함.

### 스레드의 구현 방법(2) - 이진 트리의 중위 순회.
- 어떤 노드 X에 대해 오른쪽 포인터가 null이면 다음으로 순회되는 노드를 가리키도록 한다.
- 왼쪽 포인터가 null이면 X 노드의 바로 직전에 순회된 노드를 가리키게 함.
- 포인터가 쓰레드를 가리키는지, 자식 노드를 가리키는지 표시하는 태그필드가 필요함.

### 스레드의 구현 방법(2) - 이진 트리의 전위 순회.
- 각 노드의 오른쪽 포인터 null 필드만 스레드로 활용.
- 어떤 노드의 왼쪽 포인터가 실제 왼쪽 자식을 가리키면 그대로 둠.
- null이면 전위 순회로 순회할 때 다음으로 순회되는 노드를 가리키도록 지정함.

### 스레드의 구현 방법(2) - 이진 트리의 후위 순회.
- 리프 노드만으로 스레드를 모두 구현할 수 없다.
- 프로그램 상에서 다른 처리가 필요하다.

---------------------------------------------------------------------------------------------------------

> ## 스레드 트리 순회, 삽입, 삭제.

### 전위 순회 스레드 트리의 전위 순회 연산.
    void Preordthr(struct TFNode *root) {
        struct TFNode *p;
        p = root;
        while(p!=null) {
            printf("%d", p->info);
            p = p->left;
        }
    }

### 스레드 트리의 삭제 연산.
1. 노드의 자식 노드를 모두 삭제하는 방법.
2. 삭제하려는 노드 X의 왼쪽 서브 트리나 오른쪽 서브 트리의 루트를 X가 있던 위치로 옮기는 방법.
3. 잎 노드가 아닌 노드를 삭제하지 못하게 하는 것.







